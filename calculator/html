<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Калькулятор стоимости DTF-печати</title>
  <style>
    :root{
      --accent:#d00000;
      --accent-light:rgba(208,0,0,0.1);
      --text:#111827;
      --bg:#f6f8fb;
      --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans";
      color:var(--text);
      background:var(--bg);
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding:24px;
    }
    .calc{
      width:100%;
      max-width:480px;
      background:#fff;
      border-radius:18px;
      box-shadow:0 10px 30px rgba(0,0,0,.06);
      padding:22px;
      display:flex;
      flex-direction:column;
      gap:18px;
    }
    h1{margin:0 0 12px;font-size:22px;text-align:center;color:var(--accent);}
    .sub{color:#555;font-size:14px;margin-bottom:12px;text-align:center}

    .field{display:flex;flex-direction:column;gap:6px;width:100%}
    .label{font-size:13px;color:#666;margin-left:10px}
    .input{
      display:flex;align-items:center;gap:8px;width:100%;
      border:2px solid #e5e7eb;border-radius:999px;padding:10px 14px;
      background:#fff;transition:.15s;
    }
    .input:focus-within{border-color:var(--accent);box-shadow:0 0 0 5px var(--accent-light)}
    .input input{border:0;outline:0;width:100%;font-size:16px;background:transparent}
    .suffix{color:#999;font-size:14px}

    .toggle{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-bottom:10px}
    .btn{
      border:2px solid var(--accent);border-radius:999px;
      padding:10px 16px;min-height:46px;cursor:pointer;font-weight:600;
      background:#fff;color:var(--accent);transition:.15s ease;
    }
    .btn:hover{background:var(--accent-light)}
    input[type="radio"]{display:none}
    input[type="radio"]:checked + .btn{background:var(--accent);color:#fff}

    .actions{margin-top:10px;text-align:center}
    .primary{
      border:0;border-radius:999px;
      background:var(--accent);color:#fff;font-weight:700;
      height:46px;width:100%;cursor:pointer;transition:.2s ease;
    }
    .primary:hover{filter:brightness(1.1)}
    .primary:disabled{opacity:.5;cursor:not-allowed}

    .result{
      display:none;margin-top:15px;padding:14px;
      border-radius:var(--radius);
      background:var(--accent);color:#fff;text-align:center;
    }
    .err{color:#b91c1c;font-size:14px;margin-top:6px;text-align:center}
  </style>
</head>
<body>
  <section class="calc">
    <h1>Калькулятор</h1>
    <p class="sub">Введите параметры изделия и получите примерную стоимость.</p>

    <div class="toggle">
      <label><input type="radio" name="type" value="full" checked><span class="btn">ПОЛНОЦВЕТ</span></label>
      <label><input type="radio" name="type" value="metal"><span class="btn">ЗОЛОТО/СЕРЕБРО</span></label>
    </div>

    <div class="field">
      <span class="label">Длина изделия</span>
      <div class="input"><input id="length" type="number" placeholder="50"><span class="suffix">мм</span></div>
    </div>
    <div class="field">
      <span class="label">Ширина изделия</span>
      <div class="input"><input id="width" type="number" placeholder="30"><span class="suffix">мм</span></div>
    </div>
    <div class="field">
      <span class="label">Расстояние между изделиями</span>
      <div class="input"><input id="gap" type="number" value="5"><span class="suffix">мм</span></div>
    </div>
    <div class="field">
      <span class="label">Количество изделий</span>
      <div class="input"><input id="qty" type="number" placeholder="200"><span class="suffix">шт</span></div>
    </div>

    <div class="actions">
      <button class="primary" id="calcBtn" disabled>РАССЧИТАТЬ</button>
      <div id="err" class="err"></div>
    </div>

    <div class="result" id="result">
      <p><b>Примерная сумма:</b></p>
      <p id="sum">—</p>
    </div>
  </section>

  <script>
    const $ = id => document.getElementById(id);
    const btn = $('calcBtn'), err = $('err'), res = $('result'), sum = $('sum');
    const fields = ['length','width','gap','qty'].map($);
    const prices = { full:500, metal:600 };

    function check(){btn.disabled = !fields.every(f => f.value > 0);}
    fields.forEach(f=>f.addEventListener('input',check));

    btn.addEventListener('click',()=>{
      err.textContent='';
      const L=+$('length').value,W=+$('width').value,G=+$('gap').value,Q=+$('qty').value;
      if(!(L>0&&W>0&&Q>0)){err.textContent='Введите корректные значения.';res.style.display='none';return;}
      const type=document.querySelector('input[name="type"]:checked').value;
      const perItem=prices[type];
      const baseArea=L*W;
      let cost=Q*perItem*(baseArea/10000);
      if(Q>500) cost*=0.85;
      if(Q>1000) cost*=0.75;
      sum.textContent=new Intl.NumberFormat('ru-RU',{style:'currency',currency:'RUB',maximumFractionDigits:0}).format(cost);
      res.style.display='block';
    });
  </script>
</body>
</html>
